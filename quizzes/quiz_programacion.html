<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz de Programación Avanzada</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(aliceblue, lightblue);
        }
        
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }
        
        .quiz-container {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 25px;
            margin-bottom: 30px;
        }
        
        .question {
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }
        
        .question h3 {
            color: #3498db;
            margin-bottom: 15px;
        }
        
        .options {
            margin-left: 20px;
        }
        
        .option {
            margin-bottom: 10px;
            padding: 8px 12px;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .option:hover {
            background-color: #f0f8ff;
        }
        
        .option input {
            margin-right: 10px;
        }
        
        button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
            display: block;
            margin: 20px auto;
        }
        
        button:hover {
            background-color: #2980b9;
        }
        
        .results {
            text-align: center;
            font-size: 18px;
            margin-top: 20px;
            padding: 15px;
            border-radius: 4px;
            display: none;
        }
        
        .correct {
            background-color: #d4edda;
            color: #155724;
        }
        
        .incorrect {
            background-color: #f8d7da;
            color: #721c24;
        }
        
        .progress-container {
            width: 100%;
            background-color: #e0e0e0;
            border-radius: 4px;
            margin-bottom: 20px;
        }
        
        .progress-bar {
            height: 20px;
            background-color: #3498db;
            border-radius: 4px;
            width: 0%;
            transition: width 0.5s;
        }
        
        .section-title {
            background-color: #2c3e50;
            color: white;
            padding: 10px 15px;
            border-radius: 4px;
            margin: 30px 0 15px 0;
        }
        
        .hidden {
            display: none;
        }
        
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        
        .navigation button {
            margin: 0;
        }
        
        #restart-btn {
            background-color: #e74c3c;
        }
        
        #restart-btn:hover {
            background-color: #c0392b;
        }
        
        .explanation {
            margin-top: 10px;
            padding: 10px;
            background-color: #f8f9fa;
            border-left: 4px solid #3498db;
            display: none;
        }
        
        .timer {
            text-align: right;
            font-size: 16px;
            color: #445253;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <h1>Quiz de Programación Avanzada</h1>
    <div class="timer">Tiempo: <span id="time">10:00</span></div>
    <div class="progress-container">
        <div class="progress-bar" id="progress-bar"></div>
    </div>
    
    <div id="start-screen">
        <div class="quiz-container">
            <h2>Bienvenido al Quiz de Programación Avanzada</h2>
            <p>Este cuestionario cubre temas fundamentales de JavaScript, jQuery, React, seguridad web y conceptos avanzados de programación.</p>
            <p>El quiz contiene 60 preguntas. Tendrás 10 minutos para completarlo.</p>
            <button id="start-btn">Comenzar Quiz</button>
        </div>
    </div>
    
    <div id="quiz" class="hidden">
        <div class="section-title" id="section-title">Sección 1: JavaScript Básico</div>
        <div class="quiz-container" id="question-container"></div>
        <div class="navigation">
            <button id="prev-btn" disabled>Anterior</button>
            <button id="next-btn">Siguiente</button>
        </div>
    </div>
    
    <div id="results" class="hidden">
        <div class="quiz-container">
            <h2>Resultados del Quiz</h2>
            <div class="results" id="score-container"></div>
            <div id="detailed-results"></div>
            <button id="restart-btn">Reiniciar Quiz</button>
            <a href="../index.html"><button id="restart-btn">Regresar al menú.</button></a>
        </div>
    </div>

    <script>
        // Preguntas del quiz organizadas por secciones
        const questions = [
            // Sección 1: JavaScript Básico (20 preguntas)
            {
                section: "JavaScript Básico",
                question: "¿Qué hace querySelector en JS?",
                options: ["Selecciona por ID", "Selecciona por selectores CSS", "Crea un nuevo nodo", "Borra un elemento"],
                answer: "Selecciona por selectores CSS",
                explanation: "querySelector() es un método que selecciona el primer elemento que coincide con un selector CSS especificado."
            },
            {
                section: "JavaScript Básico",
                question: "¿Es posible declarar un arreglo sin tamaño en JS?",
                options: ["Sí", "No", "Solo con var", "Solo en modo estricto"],
                answer: "Sí",
                explanation: "En JavaScript los arrays son dinámicos y no requieren un tamaño fijo al declararlos."
            },
            {
                section: "JavaScript Básico",
                question: "¿Qué es length en JS?",
                options: ["Devuelve número de elementos o caracteres", "Elimina texto", "Repite cadenas", "Aplica estilos"],
                answer: "Devuelve número de elementos o caracteres",
                explanation: "La propiedad length devuelve el número de elementos en un array o la longitud de una cadena."
            },
            {
                section: "JavaScript Básico",
                question: "¿Qué hace slice() en JS?",
                options: ["Extrae parte de un arreglo o cadena", "Ordena alfabéticamente", "Borra elementos", "Transforma tipos"],
                answer: "Extrae parte de un arreglo o cadena",
                explanation: "slice() extrae una sección de un array o cadena y devuelve uno nuevo sin modificar el original."
            },
            {
                section: "JavaScript Básico",
                question: "¿Qué hace prompt() en JS?",
                options: ["Solicita entrada al usuario", "Muestra advertencia", "Inicia sesión", "Descarga archivo"],
                answer: "Solicita entrada al usuario",
                explanation: "prompt() muestra un cuadro de diálogo que solicita al usuario que ingrese algún texto."
            },
            {
                section: "JavaScript Básico",
                question: "¿Qué hace alert() en JS?",
                options: ["Muestra una alerta emergente", "Borra el DOM", "Valida formularios", "Declara variables"],
                answer: "Muestra una alerta emergente",
                explanation: "alert() muestra un cuadro de diálogo modal con un mensaje especificado y un botón OK."
            },
            {
                section: "JavaScript Básico",
                question: "¿Qué hace addEventListener() en JS?",
                options: ["Agrega eventos a elementos HTML", "Cambia estilo de texto", "Multiplica arreglos", "Crea funciones"],
                answer: "Agrega eventos a elementos HTML",
                explanation: "addEventListener() permite asignar múltiples manejadores de eventos a un elemento."
            },
            {
                section: "JavaScript Básico",
                question: "¿Qué hace toUpperCase() en JS?",
                options: ["Convierte a mayúsculas", "Convierte a números", "Concatena cadenas", "Reduce el tamaño"],
                answer: "Convierte a mayúsculas",
                explanation: "toUpperCase() convierte una cadena a letras mayúsculas sin modificar la cadena original."
            },
            {
                section: "JavaScript Básico",
                question: "¿Qué hace toLowerCase() en JS?",
                options: ["Convierte a minúsculas", "Elimina espacios", "Muestra una alerta", "Convierte a binario"],
                answer: "Convierte a minúsculas",
                explanation: "toLowerCase() convierte una cadena a letras minúsculas sin modificar la cadena original."
            },
            {
                section: "JavaScript Básico",
                question: "¿Qué es una biblioteca en programación?",
                options: ["Conjunto de funciones reutilizables", "Base de datos", "Estilo visual", "Controlador de eventos"],
                answer: "Conjunto de funciones reutilizables",
                explanation: "Una biblioteca es una colección de implementaciones funcionales que pueden ser invocadas por programas independientes."
            },
            {
                section: "JavaScript Básico",
                question: "¿Qué es getElementById() en JS?",
                options: ["Crea un nuevo ID", "Obtiene un elemento por su ID", "Agrega un evento", "Selecciona por clase"],
                answer: "Obtiene un elemento por su ID",
                explanation: "getElementById() devuelve una referencia al elemento con el ID especificado."
            },
            {
                section: "JavaScript Básico",
                question: "¿Qué es una cadena en programación?",
                options: ["Es una sucesión de caracteres o texto", "Una estructura numérica", "Un tipo de imagen", "Una función matemática"],
                answer: "Es una sucesión de caracteres o texto",
                explanation: "Una cadena (string) es un tipo de dato que representa una secuencia de caracteres."
            },
            {
                section: "JavaScript Básico",
                question: "¿Qué es un arreglo en programación?",
                options: ["Una estructura que almacena múltiples valores", "Un solo número", "Una imagen vectorial", "Un operador lógico"],
                answer: "Una estructura que almacena múltiples valores",
                explanation: "Un arreglo (array) es una estructura de datos que almacena una colección de elementos."
            },
            {
                section: "JavaScript Básico",
                question: "¿Qué es castear una variable?",
                options: ["Copiar su valor", "Convertirla a otro tipo", "Eliminarla", "Renombrarla"],
                answer: "Convertirla a otro tipo",
                explanation: "Castear es convertir explícitamente un tipo de dato a otro."
            },
            {
                section: "JavaScript Básico",
                question: "¿Cómo se declaran variables en JavaScript?",
                options: ["var y let", "if y else", "int y float", "static y public"],
                answer: "var y let",
                explanation: "En JavaScript moderno se usan let y const, aunque var sigue siendo válido."
            },
            {
                section: "JavaScript Básico",
                question: "¿Qué es typeof en JS?",
                options: ["Operador que devuelve el tipo de dato", "Método para convertir tipos", "Función para declarar variables", "Tipo de bucle"],
                answer: "Operador que devuelve el tipo de dato",
                explanation: "typeof devuelve una cadena indicando el tipo del operando."
            },
            {
                section: "JavaScript Básico",
                question: "¿Qué hace JSON.parse()?",
                options: ["Convierte JSON a objeto JS", "Convierte objeto JS a JSON", "Valida sintaxis JSON", "Encripta datos JSON"],
                answer: "Convierte JSON a objeto JS",
                explanation: "JSON.parse() analiza una cadena JSON y construye el objeto JavaScript descrito por la cadena."
            },
            {
                section: "JavaScript Básico",
                question: "¿Qué hace JSON.stringify()?",
                options: ["Convierte objeto JS a JSON", "Convierte JSON a objeto JS", "Comprime datos JSON", "Valida estructura JSON"],
                answer: "Convierte objeto JS a JSON",
                explanation: "JSON.stringify() convierte un objeto JavaScript en una cadena JSON."
            },
            {
                section: "JavaScript Básico",
                question: "¿Qué es NaN en JavaScript?",
                options: ["Tipo de dato numérico", "Valor que representa 'No es un número'", "Método matemático", "Objeto global"],
                answer: "Valor que representa 'No es un número'",
                explanation: "NaN (Not a Number) es un valor especial que indica que un valor no es un número válido."
            },
            {
                section: "JavaScript Básico",
                question: "¿Qué es null en JavaScript?",
                options: ["Tipo de objeto", "Valor que representa ausencia intencional de valor", "Igual que undefined", "Tipo de error"],
                answer: "Valor que representa ausencia intencional de valor",
                explanation: "null es un valor que representa la ausencia intencional de cualquier valor de objeto."
            },

            // Sección 2: jQuery (10 preguntas)
            {
                section: "jQuery",
                question: "¿Cuál es una biblioteca de JS?",
                options: ["React", "PHP", "MySQL", "Java"],
                answer: "React",
                explanation: "React es una biblioteca JavaScript para construir interfaces de usuario."
            },
            {
                section: "jQuery",
                question: "¿Qué hace show() en jQuery?",
                options: ["Muestra un elemento oculto", "Oculta un texto", "Cambia color", "Agrega una clase"],
                answer: "Muestra un elemento oculto",
                explanation: "show() muestra los elementos seleccionados que estaban ocultos."
            },
            {
                section: "jQuery",
                question: "¿Qué hace hide() en jQuery?",
                options: ["Oculta un elemento", "Destruye el HTML", "Reinicia la página", "Valida campos"],
                answer: "Oculta un elemento",
                explanation: "hide() oculta los elementos seleccionados."
            },
            {
                section: "jQuery",
                question: "¿Qué hace fadeIn() en jQuery?",
                options: ["Muestra un elemento con efecto de desvanecimiento", "Borra un archivo", "Carga scripts externos", "Ejecuta animaciones CSS"],
                answer: "Muestra un elemento con efecto de desvanecimiento",
                explanation: "fadeIn() muestra elementos ocultos con un efecto de fundido."
            },
            {
                section: "jQuery",
                question: "¿Qué hace fadeOut() en jQuery?",
                options: ["Oculta con efecto de desvanecimiento", "Sube volumen", "Convierte datos", "Selecciona clases"],
                answer: "Oculta con efecto de desvanecimiento",
                explanation: "fadeOut() oculta elementos visibles con un efecto de fundido."
            },
            {
                section: "jQuery",
                question: "¿Qué hace css() en jQuery?",
                options: ["Modifica estilos de un elemento", "Guarda una imagen", "Agrega etiquetas", "Filtra resultados"],
                answer: "Modifica estilos de un elemento",
                explanation: "css() obtiene o establece propiedades de estilo para los elementos seleccionados."
            },
            {
                section: "jQuery",
                question: "¿Qué hace $(document).ready()?",
                options: ["Espera a que se cargue el DOM", "Valida formularios", "Carga imágenes", "Inicia sesión"],
                answer: "Espera a que se cargue el DOM",
                explanation: "Esta función se ejecuta cuando el DOM está completamente cargado y listo para manipular."
            },
            {
                section: "jQuery",
                question: "¿Qué hace animate() en jQuery?",
                options: ["Crea animaciones personalizadas", "Analiza código", "Genera números aleatorios", "Valida datos"],
                answer: "Crea animaciones personalizadas",
                explanation: "animate() permite crear animaciones personalizadas de propiedades CSS."
            },
            {
                section: "jQuery",
                question: "¿Qué hace ajax() en jQuery?",
                options: ["Realiza peticiones HTTP asíncronas", "Valida formularios", "Crea elementos HTML", "Ordena arrays"],
                answer: "Realiza peticiones HTTP asíncronas",
                explanation: "ajax() permite realizar peticiones HTTP asíncronas (AJAX)."
            },
            {
                section: "jQuery",
                question: "¿Qué hace val() en jQuery?",
                options: ["Obtiene o establece valores de elementos de formulario", "Valida campos", "Convierte tipos", "Calcula operaciones"],
                answer: "Obtiene o establece valores de elementos de formulario",
                explanation: "val() obtiene o establece el valor de elementos de formulario."
            },

            // Sección 3: Frameworks (10 preguntas)
            {
                section: "Frameworks",
                question: "¿Qué es React?",
                options: ["Biblioteca de JS para interfaces UI", "Motor de base de datos", "Sistema operativo", "Editor de HTML"],
                answer: "Biblioteca de JS para interfaces UI",
                explanation: "React es una biblioteca JavaScript para construir interfaces de usuario."
            },
            {
                section: "Frameworks",
                question: "¿Qué es Three.js?",
                options: ["Biblioteca para gráficos 3D en navegador", "Extensión de CSS", "Librería de audio", "Plugin de seguridad"],
                answer: "Biblioteca para gráficos 3D en navegador",
                explanation: "Three.js es una biblioteca para crear gráficos 3D en el navegador usando WebGL."
            },
            {
                section: "Frameworks",
                question: "¿Qué es un framework?",
                options: ["Estructura base para desarrollar software", "Archivo ejecutable", "Compilador de código", "Librería multimedia"],
                answer: "Estructura base para desarrollar software",
                explanation: "Un framework proporciona una estructura base para el desarrollo de aplicaciones."
            },
            {
                section: "Frameworks",
                question: "¿Qué es Angular?",
                options: ["Framework JS para SPAs", "Editor de texto", "Framework de Python", "Script en PHP"],
                answer: "Framework JS para SPAs",
                explanation: "Angular es un framework para construir aplicaciones de una sola página (SPAs)."
            },
            {
                section: "Frameworks",
                question: "¿Qué es Node.js?",
                options: ["Entorno para ejecutar JS del lado del servidor", "Editor de código", "Navegador experimental", "Herramienta de diseño"],
                answer: "Entorno para ejecutar JS del lado del servidor",
                explanation: "Node.js permite ejecutar JavaScript en el servidor, fuera del navegador."
            },
            {
                section: "Frameworks",
                question: "¿Qué es Vue.js?",
                options: ["Framework progresivo para construir UIs", "Lenguaje de programación", "Sistema de base de datos", "Herramienta de testing"],
                answer: "Framework progresivo para construir UIs",
                explanation: "Vue.js es un framework progresivo para construir interfaces de usuario."
            },
            {
                section: "Frameworks",
                question: "¿Qué es Express.js?",
                options: ["Framework web para Node.js", "Lenguaje de marcado", "Biblioteca de animaciones", "Sistema de plantillas"],
                answer: "Framework web para Node.js",
                explanation: "Express.js es un framework minimalista para aplicaciones web en Node.js."
            },
            {
                section: "Frameworks",
                question: "¿Qué es Django?",
                options: ["Framework web de Python", "Biblioteca JS", "Lenguaje de programación", "Sistema de base de datos"],
                answer: "Framework web de Python",
                explanation: "Django es un framework web de alto nivel escrito en Python."
            },
            {
                section: "Frameworks",
                question: "¿Qué es Laravel?",
                options: ["Framework PHP para desarrollo web", "Biblioteca JS", "Lenguaje de programación", "Sistema de plantillas"],
                answer: "Framework PHP para desarrollo web",
                explanation: "Laravel es un framework PHP para el desarrollo de aplicaciones web."
            },
            {
                section: "Frameworks",
                question: "¿Qué es Spring?",
                options: ["Framework Java para aplicaciones empresariales", "Lenguaje de programación", "Sistema de base de datos", "Biblioteca JS"],
                answer: "Framework Java para aplicaciones empresariales",
                explanation: "Spring es un framework para aplicaciones Java empresariales."
            },

            // Sección 4: Seguridad (10 preguntas)
            {
                section: "Seguridad",
                question: "¿Cuál es una amenaza de seguridad para aplicaciones web?",
                options: ["SQL Injection", "CSS avanzado", "jQuery", "AJAX"],
                answer: "SQL Injection",
                explanation: "SQL Injection es un ataque que permite inyectar código SQL malicioso en una consulta."
            },
            {
                section: "Seguridad",
                question: "¿Cuál es otra amenaza para aplicaciones web?",
                options: ["XSS (Cross-Site Scripting)", "Bootstrap", "LocalStorage", "HTML5"],
                answer: "XSS (Cross-Site Scripting)",
                explanation: "XSS permite inyectar scripts maliciosos que se ejecutan en el navegador de la víctima."
            },
            {
                section: "Seguridad",
                question: "¿Qué es un wireframe?",
                options: ["Una guía visual de la estructura de un sitio web", "Un script en PHP", "Un tipo de animación en CSS", "Una base de datos"],
                answer: "Una guía visual de la estructura de un sitio web",
                explanation: "Un wireframe es un esquema visual de la estructura básica de una página web."
            },
            {
                section: "Seguridad",
                question: "¿Qué es el patrón MVC?",
                options: ["Una tecnología de servidor", "Un patrón que separa modelo, vista y controlador", "Un lenguaje de programación", "Un tipo de animación"],
                answer: "Un patrón que separa modelo, vista y controlador",
                explanation: "MVC separa la lógica en tres componentes: Modelo (datos), Vista (interfaz) y Controlador (lógica)."
            },
            {
                section: "Seguridad",
                question: "¿Qué función en PHP permite enviar correos?",
                options: ["correo()", "mail()", "sendEmail()", "phpMail()"],
                answer: "mail()",
                explanation: "La función mail() en PHP permite enviar correos electrónicos."
            },
            {
                section: "Seguridad",
                question: "AJAX significa:",
                options: ["Application Java Extension", "Advanced Java and XML", "Asynchronous JavaScript and XML", "Automatic JavaScript Application Xchange"],
                answer: "Asynchronous JavaScript and XML",
                explanation: "AJAX permite actualizar partes de una página web sin recargarla completamente."
            },
            {
                section: "Seguridad",
                question: "¿Qué propiedad en CSS permite definir una animación?",
                options: ["animation", "script", "keyframes", "style"],
                answer: "animation",
                explanation: "La propiedad animation permite crear animaciones en CSS."
            },
            {
                section: "Seguridad",
                question: "¿Qué etiqueta HTML se usa para incrustar código JavaScript?",
                options: ["<js>", "<javascript>", "<script>", "<code>"],
                answer: "<script>",
                explanation: "La etiqueta <script> se usa para incrustar o referenciar código JavaScript."
            },
            {
                section: "Seguridad",
                question: "¿Cuál es el método HTTP que se utiliza para enviar datos a un servidor?",
                options: ["GET", "SEND", "POST", "PUT"],
                answer: "POST",
                explanation: "El método POST se usa para enviar datos a un servidor para crear o actualizar recursos."
            },
            {
                section: "Seguridad",
                question: "¿Qué tipo de archivos se suelen utilizar para estilos CSS?",
                options: [".html", ".php", ".js", ".css"],
                answer: ".css",
                explanation: "Los archivos .css contienen hojas de estilo en cascada."
            },

            // Sección 5: Conceptos Avanzados (10 preguntas)
            {
                section: "Conceptos Avanzados",
                question: "¿Qué se usa para conectar una base de datos con PHP?",
                options: ["Java Connector", "MySQLi o PDO", "PHP Linker", "Database Plug"],
                answer: "MySQLi o PDO",
                explanation: "MySQLi y PDO son extensiones de PHP para conectarse a bases de datos."
            },
            {
                section: "Conceptos Avanzados",
                question: "¿Cuál es el propósito del atributo 'action' en un formulario HTML?",
                options: ["Establecer el estilo del formulario", "Definir el script que procesará los datos", "Validar datos del formulario", "Crear una animación"],
                answer: "Definir el script que procesará los datos",
                explanation: "El atributo action especifica dónde enviar los datos del formulario cuando se envía."
            },
            {
                section: "Conceptos Avanzados",
                question: "¿Qué herramienta permite revisar errores en el código JavaScript desde el navegador?",
                options: ["Editor de texto", "Consola del navegador", "Photoshop", "AJAX"],
                answer: "Consola del navegador",
                explanation: "La consola del navegador muestra errores y permite depurar código JavaScript."
            },
            {
                section: "Conceptos Avanzados",
                question: "¿Qué hace la función isset() en PHP?",
                options: ["Verifica si una variable está definida y no es NULL", "Asigna un valor a una variable", "Concatena variables", "Convierte tipos de datos"],
                answer: "Verifica si una variable está definida y no es NULL",
                explanation: "isset() comprueba si una variable está definida y no es null."
            },
            {
                section: "Conceptos Avanzados",
                question: "¿Qué es un API REST?",
                options: ["Interfaz para comunicación entre sistemas usando HTTP", "Lenguaje de programación", "Sistema de base de datos", "Protocolo de correo"],
                answer: "Interfaz para comunicación entre sistemas usando HTTP",
                explanation: "REST es un estilo arquitectónico para diseñar APIs basadas en HTTP."
            },
            {
                section: "Conceptos Avanzados",
                question: "¿Qué es Git?",
                options: ["Sistema de control de versiones", "Lenguaje de programación", "Framework JavaScript", "Sistema de base de datos"],
                answer: "Sistema de control de versiones",
                explanation: "Git es un sistema de control de versiones distribuido."
            },
            {
                section: "Conceptos Avanzados",
                question: "¿Qué es Docker?",
                options: ["Plataforma para contenerizar aplicaciones", "Lenguaje de programación", "Framework web", "Sistema de archivos"],
                answer: "Plataforma para contenerizar aplicaciones",
                explanation: "Docker permite empaquetar aplicaciones en contenedores aislados."
            },
            {
                section: "Conceptos Avanzados",
                question: "¿Qué es una promesa en JavaScript?",
                options: ["Objeto que representa un valor que puede estar disponible ahora, en el futuro o nunca", "Tipo de bucle", "Método de ordenación", "Estructura de datos"],
                answer: "Objeto que representa un valor que puede estar disponible ahora, en el futuro o nunca",
                explanation: "Las promesas representan el resultado eventual de una operación asíncrona."
            },
            {
                section: "Conceptos Avanzados",
                question: "¿Qué es el hoisting en JavaScript?",
                options: ["Comportamiento donde declaraciones son movidas al inicio de su ámbito", "Método para ocultar elementos", "Tipo de animación", "Forma de ordenar arrays"],
                answer: "Comportamiento donde declaraciones son movidas al inicio de su ámbito",
                explanation: "Hoisting es cuando JavaScript mueve declaraciones al inicio de su ámbito antes de la ejecución."
            },
            {
                section: "Conceptos Avanzados",
                question: "¿Qué es el event loop en JavaScript?",
                options: ["Mecanismo que maneja la ejecución de código asíncrono", "Tipo de bucle", "Método para eventos de ratón", "Forma de validar formularios"],
                answer: "Mecanismo que maneja la ejecución de código asíncrono",
                explanation: "El event loop es lo que permite a JavaScript ser no bloqueante a pesar de ser single-threaded."
            }
        ];

        // Variables de estado
        let currentQuestion = 0;
        let score = 0;
        let userAnswers = new Array(questions.length).fill(null);
        let timeLeft = 600; // 35 minutos en segundos
        let timerInterval;
        let quizStarted = false;

        // Elementos del DOM
        const startScreen = document.getElementById('start-screen');
        const quizContainer = document.getElementById('quiz');
        const questionContainer = document.getElementById('question-container');
        const resultsContainer = document.getElementById('results');
        const scoreContainer = document.getElementById('score-container');
        const detailedResults = document.getElementById('detailed-results');
        const progressBar = document.getElementById('progress-bar');
        const sectionTitle = document.getElementById('section-title');
        const timeDisplay = document.getElementById('time');
        const startBtn = document.getElementById('start-btn');
        const nextBtn = document.getElementById('next-btn');
        const prevBtn = document.getElementById('prev-btn');
        const restartBtn = document.getElementById('restart-btn');

        // Event listeners
        startBtn.addEventListener('click', startQuiz);
        nextBtn.addEventListener('click', nextQuestion);
        prevBtn.addEventListener('click', prevQuestion);
        restartBtn.addEventListener('click', restartQuiz);

        // Función para iniciar el quiz
        function startQuiz() {
            startScreen.classList.add('hidden');
            quizContainer.classList.remove('hidden');
            quizStarted = true;
            startTimer();
            showQuestion();
        }

        // Función para mostrar una pregunta
        function showQuestion() {
            const question = questions[currentQuestion];
            
            // Actualizar título de sección si cambió
            if (currentQuestion === 0 || questions[currentQuestion].section !== questions[currentQuestion-1].section) {
                sectionTitle.textContent = `Sección ${getSectionNumber(question.section)}: ${question.section}`;
            }
            
            // Actualizar barra de progreso
            progressBar.style.width = `${((currentQuestion + 1) / questions.length) * 100}%`;
            
            // Construir HTML de la pregunta
            let html = `<div class="question">
                <h3>${currentQuestion + 1}. ${question.question}</h3>
                <div class="options">`;
            
            question.options.forEach((option, index) => {
                const isChecked = userAnswers[currentQuestion] === option ? 'checked' : '';
                html += `<div class="option">
                    <input type="radio" name="answer" id="option${index}" value="${option}" ${isChecked}>
                    <label for="option${index}">${option}</label>
                </div>`;
            });
            
            html += `</div>
                <div class="explanation" id="explanation">${question.explanation}</div>
            </div>`;
            
            questionContainer.innerHTML = html;
            
            // Añadir event listeners a los radios
            document.querySelectorAll('input[name="answer"]').forEach(radio => {
                radio.addEventListener('change', (e) => {
                    userAnswers[currentQuestion] = e.target.value;
                    document.getElementById('explanation').style.display = 'block';
                });
            });
            
            // Actualizar estado de los botones de navegación
            prevBtn.disabled = currentQuestion === 0;
            nextBtn.textContent = currentQuestion === questions.length - 1 ? 'Finalizar' : 'Siguiente';
            
            // Mostrar explicación si ya se respondió
            if (userAnswers[currentQuestion] !== null) {
                document.getElementById('explanation').style.display = 'block';
            }
        }

        // Función para obtener número de sección
        function getSectionNumber(sectionName) {
            const sections = [...new Set(questions.map(q => q.section))];
            return sections.indexOf(sectionName) + 1;
        }

        // Función para ir a la siguiente pregunta
        function nextQuestion() {
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                showQuestion();
            } else {
                finishQuiz();
            }
        }

        // Función para ir a la pregunta anterior
        function prevQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                showQuestion();
            }
        }

        // Función para finalizar el quiz
        function finishQuiz() {
            clearInterval(timerInterval);
            quizContainer.classList.add('hidden');
            resultsContainer.classList.remove('hidden');
            
            // Calcular puntaje
            score = 0;
            questions.forEach((q, index) => {
                if (userAnswers[index] === q.answer) {
                    score++;
                }
            });
            
            // Mostrar resultados generales
            const percentage = Math.round((score / questions.length) * 100);
            let message = `Obtuviste ${score} de ${questions.length} respuestas correctas (${percentage}%) - `;
            
            if (percentage >= 90) {
                message += "¡Excelente! Dominas estos conceptos.";
            } else if (percentage >= 70) {
                message += "¡Buen trabajo! Pero hay espacio para mejorar.";
            } else if (percentage >= 50) {
                message += "Aprobado, pero deberías repasar los conceptos.";
            } else {
                message += "Necesitas estudiar más estos temas. Revisa las explicaciones.";
            }
            
            scoreContainer.textContent = message;
            scoreContainer.className = 'results ' + (percentage >= 70 ? 'correct' : 'incorrect');
            
            // Mostrar resultados detallados
            detailedResults.innerHTML = '<h3>Detalle por pregunta:</h3>';
            questions.forEach((q, index) => {
                const isCorrect = userAnswers[index] === q.answer;
                const userAnswer = userAnswers[index] !== null ? userAnswers[index] : 'Sin responder';
                const correctAnswer = q.answer;
                
                detailedResults.innerHTML += `
                    <div class="question-result ${isCorrect ? 'correct' : 'incorrect'}">
                        <p><strong>Pregunta ${index + 1}:</strong> ${q.question}</p>
                        <p><strong>Tu respuesta:</strong> ${userAnswer}</p>
                        ${!isCorrect ? `<p><strong>Respuesta correcta:</strong> ${correctAnswer}</p>` : ''}
                        <p><strong>Explicación:</strong> ${q.explanation}</p>
                    </div>
                `;
            });
        }

        // Función para reiniciar el quiz
        function restartQuiz() {
            currentQuestion = 0;
            score = 0;
            userAnswers = new Array(questions.length).fill(null);
            timeLeft = 600;
            updateTimerDisplay();
            
            resultsContainer.classList.add('hidden');
            startScreen.classList.remove('hidden');
            
            clearInterval(timerInterval);
            quizStarted = false;
        }

        // Funciones para el temporizador
        function startTimer() {
            updateTimerDisplay();
            timerInterval = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();
                
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    finishQuiz();
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            timeDisplay.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            if (timeLeft <= 300) { // 5 minutos o menos
                timeDisplay.style.color = '#e74c3c';
            }
        }
    </script>
</body>
</html>